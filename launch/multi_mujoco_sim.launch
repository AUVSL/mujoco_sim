<launch>

    <arg name="robot" default="$(find mujoco_sim)/model/test/bowl.xml" />
    <arg name="world_1" default="$(find mujoco_sim)/model/test/pendulum_1.xml" />
    <arg name="world_2" default="$(find mujoco_sim)/model/test/pendulum_2.xml" />
    <arg name="world_3" default="$(find mujoco_sim)/model/test/pendulum_3.xml" />
    <arg name="subscribed_objects_1" default="$(find mujoco_sim)/src/config/subscribed_objects_1.yaml" />
    <arg name="subscribed_objects_2" default="$(find mujoco_sim)/src/config/subscribed_objects_2.yaml" />
    <arg name="subscribed_objects_3" default="$(find mujoco_sim)/src/config/subscribed_objects_3.yaml" />

    <!-- <node pkg="mujoco_sim" type="state_server_node" name="state_server" output="screen"/> -->

    <group ns="sim_1">
        <node name="mujoco_sim" pkg="mujoco_sim" type="mujoco_sim_node" output="screen" args="7500 7600">
            <rosparam command="load" file="$(arg subscribed_objects_1)" />
            <param name="world" value="$(arg world_1)" />
            <param name="robot" type="str" value="$(arg robot)" />
        </node>
    </group>

    <group ns="sim_2">
        <node name="mujoco_sim" pkg="mujoco_sim" type="mujoco_sim_node" output="screen" args="7501 7601">
            <rosparam command="load" file="$(arg subscribed_objects_2)" />
            <param name="world" value="$(arg world_2)" />
            <param name="robot" type="str" value="$(arg robot)" />
        </node>
    </group>

    <group ns="sim_3">
        <node name="mujoco_sim" pkg="mujoco_sim" type="mujoco_sim_node" output="screen" args="7502 7602">
            <rosparam command="load" file="$(arg subscribed_objects_3)" />
            <param name="world" value="$(arg world_3)" />
            <param name="robot" type="str" value="$(arg robot)" />
        </node>
    </group>

</launch>