#usda 1.0
(
    defaultPrim = "world"
    metersPerUnit = 1
    upAxis = "Z"
    subLayers = [
        @./BoxScenario_TBox.usda@
    ]
)

def Xform "world"
{
    def Xform "box" (
        prepend apiSchemas = ["PhysicsRigidBodyAPI", "PhysicsMassAPI", "SemanticTagAPI"]
    )
    {
        rel semanticTag:semanticRelation = </_class_soma/_class_box>
        point3f physics:centerOfMass = (0, 0, -0.034677908)
        float3 physics:diagonalInertia = (0.089647055, 0.08021242, 0.075281166)
        float physics:mass = 2.7894917
        bool physics:rigidBodyEnabled = 1
        matrix4d xformOp:transform = ( (1, 0, 0, 0), (0, 1, 0, 0), (0, 0, 1, 0), (0, 0, 2, 1) )
        uniform token[] xformOpOrder = ["xformOp:transform"]

        def Cube "geom_1" (
            prepend apiSchemas = ["PhysicsCollisionAPI"]
        )
        {
            bool physics:collisionEnabled = 1
            color3f[] primvars:displayColor = [(0.5, 0.5, 0.5)]
            float[] primvars:displayOpacity = [1]
            matrix4d xformOp:transform = ( (0.17, 0, 0, 0), (0, 0.16, 0, 0), (0, 0, 0.0025, 0), (0, 0, -0.1675, 1) )
            uniform token[] xformOpOrder = ["xformOp:transform"]
        }

        def Cube "geom_2" (
            prepend apiSchemas = ["PhysicsCollisionAPI"]
        )
        {
            bool physics:collisionEnabled = 1
            color3f[] primvars:displayColor = [(0.5, 0.5, 0.5)]
            float[] primvars:displayOpacity = [1]
            matrix4d xformOp:transform = ( (0.002578, 0, 0, 0), (0, 0.16, 0, 0), (0, 0, 0.1675, 0), (0.167578, 0, -0.0025, 1) )
            uniform token[] xformOpOrder = ["xformOp:transform"]
        }

        def Cube "geom_3" (
            prepend apiSchemas = ["PhysicsCollisionAPI"]
        )
        {
            bool physics:collisionEnabled = 1
            color3f[] primvars:displayColor = [(0.5, 0.5, 0.5)]
            float[] primvars:displayOpacity = [1]
            matrix4d xformOp:transform = ( (0.002578, 0, 0, 0), (0, 0.16, 0, 0), (0, 0, 0.1675, 0), (-0.167578, 0, -0.0025, 1) )
            uniform token[] xformOpOrder = ["xformOp:transform"]
        }

        def Cube "geom_4" (
            prepend apiSchemas = ["PhysicsCollisionAPI"]
        )
        {
            bool physics:collisionEnabled = 1
            color3f[] primvars:displayColor = [(0.5, 0.5, 0.5)]
            float[] primvars:displayOpacity = [1]
            matrix4d xformOp:transform = ( (0.170156, 0, 0, 0), (0, 0.0025, 0, 0), (0, 0, 0.1675, 0), (0, 0.1575, -0.0025, 1) )
            uniform token[] xformOpOrder = ["xformOp:transform"]
        }

        def Cube "geom_5" (
            prepend apiSchemas = ["PhysicsCollisionAPI"]
        )
        {
            bool physics:collisionEnabled = 1
            color3f[] primvars:displayColor = [(0.5, 0.5, 0.5)]
            float[] primvars:displayOpacity = [1]
            matrix4d xformOp:transform = ( (0.170156, 0, 0, 0), (0, 0.0025, 0, 0), (0, 0, 0.1675, 0), (0, -0.1575, -0.0025, 1) )
            uniform token[] xformOpOrder = ["xformOp:transform"]
        }

        def PhysicsRevoluteJoint "box_flap_side_1_joint" (
            prepend apiSchemas = ["SemanticTagAPI"]
        )
        {
            rel semanticTag:semanticRelation = </_class_soma_obj/_class_joint>
            uniform token physics:axis = "Z"
            rel physics:body0 = </world/box>
            rel physics:body1 = </world/box_flap_side_1>
            bool physics:collisionEnabled = 0
            point3f physics:localPos0 = (0.17, 0, 0.166)
            point3f physics:localPos1 = (0, 0, 0)
            quatf physics:localRot0 = (0.7071068, -0.7071068, 0, 0)
            quatf physics:localRot1 = (0.7071068, -0.7071068, 0, 0)
        }

        def PhysicsRevoluteJoint "box_flap_side_2_joint" (
            prepend apiSchemas = ["SemanticTagAPI"]
        )
        {
            rel semanticTag:semanticRelation = </_class_soma_obj/_class_joint>
            uniform token physics:axis = "Z"
            rel physics:body0 = </world/box>
            rel physics:body1 = </world/box_flap_side_2>
            bool physics:collisionEnabled = 0
            point3f physics:localPos0 = (-0.17, 0, 0.168)
            point3f physics:localPos1 = (0, 0, 0)
            quatf physics:localRot0 = (0.7071068, 0.7071068, 0, 0)
            quatf physics:localRot1 = (0.7071068, 0.7071068, 0, 0)
        }
    }

    def Xform "box_flap_side_1" (
        prepend apiSchemas = ["PhysicsRigidBodyAPI", "PhysicsMassAPI", "SemanticTagAPI"]
    )
    {
        rel semanticTag:semanticRelation = </_class_box_scenario/_class_box_flap>
        point3f physics:centerOfMass = (-0.17, -1.5240808e-9, -3.309755e-9)
        float3 physics:diagonalInertia = (0.0039196294, 0.0020787641, 0.0018410094)
        float physics:mass = 0.21652657
        bool physics:rigidBodyEnabled = 1
        matrix4d xformOp:transform = ( (1, 0, 0, 0), (0, 1, 0, 0), (0, 0, 1, 0), (0.17, 0, 2.166, 1) )
        uniform token[] xformOpOrder = ["xformOp:transform"]

        def Mesh "geom_6" (
            prepend apiSchemas = ["PhysicsCollisionAPI", "PhysicsMeshCollisionAPI"]
            prepend references = @/home/giang/Workspace/mujoco_ws/src/mujoco_sim/model/save/box/usd/BoxFlapSide1.usda@
        )
        {
            uniform token physics:approximation = "convexHull"
            bool physics:collisionEnabled = 1
            color3f[] primvars:displayColor = [(0.5, 0.5, 0.5)]
            float[] primvars:displayOpacity = [1]
            matrix4d xformOp:transform = ( (-2.220446049250313e-16, 0, 1.0000000000000002, 0), (0, -1.0000000000000004, 0, 0), (1.0000000000000002, 0, -2.220446049250313e-16, 0), (-0.1700000072951671, -1.5240807574521301e-9, -3.3097549890378998e-9, 1) )
            uniform token[] xformOpOrder = ["xformOp:transform"]
        }
    }

    def Xform "box_flap_side_2" (
        prepend apiSchemas = ["PhysicsRigidBodyAPI", "PhysicsMassAPI", "SemanticTagAPI"]
    )
    {
        rel semanticTag:semanticRelation = </_class_box_scenario/_class_box_flap>
        point3f physics:centerOfMass = (0.17000002, -3.8535852e-10, -1.7394634e-12)
        float3 physics:diagonalInertia = (0.0039196294, 0.0020787637, 0.0018410094)
        float physics:mass = 0.21652657
        bool physics:rigidBodyEnabled = 1
        matrix4d xformOp:transform = ( (1, 0, 0, 0), (0, 1, 0, 0), (0, 0, 1, 0), (-0.17, 0, 2.168, 1) )
        uniform token[] xformOpOrder = ["xformOp:transform"]

        def Mesh "geom_7" (
            prepend apiSchemas = ["PhysicsCollisionAPI", "PhysicsMeshCollisionAPI"]
            prepend references = @/home/giang/Workspace/mujoco_ws/src/mujoco_sim/model/save/box/usd/BoxFlapSide2.usda@
        )
        {
            uniform token physics:approximation = "convexHull"
            bool physics:collisionEnabled = 1
            color3f[] primvars:displayColor = [(0.5, 0.5, 0.5)]
            float[] primvars:displayOpacity = [1]
            matrix4d xformOp:transform = ( (-2.220446049250313e-16, 0, 1.0000000000000002, 0), (0, -1.0000000000000004, 0, 0), (1.0000000000000002, 0, -2.220446049250313e-16, 0), (0.17000000947241017, -3.853585327311238e-10, -1.7394634132564953e-12, 1) )
            uniform token[] xformOpOrder = ["xformOp:transform"]
        }
    }
}

